# yaml-language-server: $schema=../../config/schemas/playbook.schema.json
---
apiVersion: mission-control.flanksource.com/v1
kind: Playbook
metadata:
  name: echo-secret-parameter
spec:
  category: Echoer
  description: Echos the secret parameter
  parameters:
    - name: secret
      label: Secret
      type: secret
      default: AQICAHhhKuZScFwaHuTt74rfXInMtC1YSb6oLkETGGEbJD0IEwF4W0vVfzDwSQimcHeXmGqMAAAAaTBnBgkqhkiG9w0BBwagWjBYAgEAMFMGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMRXeo+ARWYU9CnWf3AgEQgCZkjIwaacYdPqPZIJ/65LK0qHF4hzPJ5Vm/ru3B/FQwrH3cUlGU8g==
      required: false
      properties:
        keyID: arn:aws:kms:eu-west-1:123123123123:alias/secret-keeper
        # keyID: projects/my-dummy-project/locations/europe-west2/keyRings/test/cryptoKeys/secret-keeper # GCP
        # keyID: https://secret-keeper.vault.azure.net/keys/test # Azure
  actions:
    - name: Echo
      exec:
        script: |
          echo {{.params.secret}}
